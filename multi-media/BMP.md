### BMP存储规则

* <https://en.wikipedia.org/wiki/BMP_file_format>

### BMP示例

<img src="./pic/mm/bmp.png" alt="BMP示例" width="70%">

#### Bitmap File Header

​	**1**> 0~1字节，文件类型，固定值0x4d42（BM）；

​	**2**> 2~5字节，文件大小，示例为0x00030036（文件大小约192KB）；

​	**3**> 6~7字节，保留字段1;

​	**4**> 8~9字节，保留字段2;

​	**5**> 10~13字节，偏移量，可用于快速定位实际数据。示例为0x00000036（从第54字节开始）；

#### Bitmap Information Header

​	**6**> 14~17字节，Bitmap Information Header部分所占大小，示例为0x00000028（40字节）；

​	**7**> 18~21字节，图像宽度，单位像素，示例为0x00000100（256像素）；

​	**8**> 22~25字节，图像高度，单位像素，示例为0x00000100（256像素）；

​	**9**> 26~27字节，颜色平面数，示例为0x0001；

​	**10**> 28~29字节，每像素占用比特数，可取值1、4、8、16、24、32，示例为0x0018（24比特/像素）；

​	**11**> 30~33字节，数据压缩方式，可取值0、1、2、3、4、5，示例为0x00000000（未压缩）；

​	**12**> 34~37字节，图像数据大小，如果上一个字段未使用压缩存储，可设置为0，示例为0x00030000（192KB）;注意与字段2区分，在未压缩情况下，(2)=(5)+(12)；

​	**13**> 38~41字节，水平分辨率，示例为0x00000ece（3790像素/米）；

​	**14**> 42~45字节，垂直分辨率，示例为0x00000ece（3780像素/米）；

​	**15**> 46~49字节，使用到的彩色表中的颜色索引数，示例为0x00000000（使用所有）；

​	**16**> 50~53字节，对图像显示有重要影响的颜色索引数，示例为0x00000000（都有重要影响）；

#### Color table

​	索引值和颜色映射表，大小为(15)*4字节，每4个字节为一组，分别存放R、G、B和Alpha分量，示例中未使用调色板；

#### Pixel storage

​	**17**> 54~ 字节，未压缩情况下，每(10)/8个字节存储一个像素的颜色信息。





